<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
        <!--TODO: Need to access D3 in the console?-->
        <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    </head>
    
    <body>
        <div class="bar"></div> 

        <h1>Learning D3</h1>
        <script type="module">
            import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
            console.log("Imported D3");
            
            //var dataset = [
            //    4, 99, 21, 2, 34, 70, 62, 3, 55, 8
            //];
            var dataset = []
            for (var i=0; i<25; i++) {
                // Generate a random number between 0 and 100
                var d = Math.random() * 100;
                dataset.push(d);
            }
            d3.select("body").selectAll("p")
                .data(dataset)
                .enter()
                .append("div")
                .attr("class", "bar")
                .style("height", function(d) {
                    var barHeight = d*5; // scale the height for visibility
                    return barHeight + "px";
                })
                .style("background-color", function(d) {
                    if (d > 50) {
                        return "#cc5555"; // a nicer red
                    } else {
                        return "teal";
                    }
                });
        </script>
    </body>
    
</html>
